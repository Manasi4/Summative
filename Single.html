<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<style>
#h01{
	color:red;
	font-family:arial;
	text-align:center;
}
</style>
<h1 id="h01">Single player booking</h1>

<script>
$(document).ready(function(){
	$("#submit").click(function(){
		$("form").hide();
		});
	});
	
function saveForm(){
	saveValues("input");
	saveValues("select");
return true;
}

function saveValues(tag){
	var inputs=document.getElementsByTagName(tag);
	for(var i=0;i<inputs.length-1;i++){
		window.sessionStorage.setItem(inputs[i].name, inputs[i].value);
	}
}

</script>



<!-- Form to gather information -->
<form action="Results1.php" method="post">
Participant first name:<br>
<input type="text" name="first" required><br>
Participant last name:<br>
<input type="text" name="last" required><br>
Parent/Guardian e-mail:<br>
<input type="email" name="contactEmail" required><br>
Parent/Guardian phone number:<br>
<input type="tel" name="contactPhone" required>
<br>

Gender:<br>
<input type="radio" name="gender" value="male"> Male<br>
<input type="radio" name="gender" value="male"> Female<br>
<input type="radio" name="gender" value="male"> Other<br><br>

Age:<br>
<select name="age" required>
<option value="5-6">5-6</option>
<option value="7-8">7-8</option>
<option value="9-10">9-10</option>
<option value="11-12">11-12</option>
<option value="13-14">13-14</option>
</select><br>

Experience:<br>
<select name="Experience">
<option value="little">&lt 1 year or no experience</option>
<option value="1-2">1-2 years</option>
<option value="3-4">3-4 years</option>
<option value="5+">5+ years</option>
</select><br>

<br>Previous leagues/associations(if any):<br>
<input type="text" name="league"><br><br>

Select prefered coach(if any)<br>
<input type="radio" name="Coach" value="Michael Kenny"> Michael Kenny<br>
<input type="radio" name="Coach" value="Stuart Miles"> Stuart Miles<br>
<input type="radio" name="Coach" value="Kevin Savard"> Kevin Savard<br>
<input type="radio" name="Coach" value="Clare Murphy"> Clare Murphy<br>
<input type="radio" name="Coach" value="Sean Stoqua"> Sean Stoqua<br>
<input type="radio" name="Coach" value="Troy Kenny"> Troy Kenny<br><br>
<input id="submit" type="submit" onclick="return saveForm();" value="submit">

</form>
<!-- Code to process results to a text file to look for time slots 
<?php
	if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $first = $_POST['first'];
	$last = $_POST['last'];
	$email = $_POST['contactEmail'];
	$phone = $_POST['contactPhone'];
	$gender = $_POST['gender'];
	$age = $_POST['age'];
	$experience = $_POST['Experience'];
	$league = $_POST['league'];
	$coach = $_POST['coach'];
}
	$bookings = file("/bookings.csv")
	
	//returns unbooked csv lines with coach
	function getTimeSlots($coach){
		for($x=0; $x < count($bookings); $x++){
			if(str_word_count($bookings[$x]) == 3){
				$token = strtok($bookings[$x], ",")
				while ($token !== false){
				if($token == $coach){
				array_push($match, $x);
				}
				$token = strtok(" ");
} 
			}
		}
		return $match;
	}
	//returns unbooked slots(csv lines that only contain coach, location, and time)
	function getTimeSlots(){
		for($x = 0; $x < count($bookings); $x++){
			if(str_word_count($bookings[$x]) == 3){
				array_push($match, $x);
			}
		}
		return $match;
	}
	//create arrays containing the positions empty with conditions met
	if($coach !== null ||$coach !== ""){
		$button = getTimeSlots($coach);
	}else{
		$button = getTimeSlots();
	}
	
	for($y = 0;$y < count(%button); $y++){
		$bookings[$button[$y]]
			while ($token !== false){
			echo $token;
			} 
		}
	
	
?>
-->


</body>
</html>
